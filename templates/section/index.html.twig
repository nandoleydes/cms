{% extends 'base.html.twig' %}

{% block title %}Sections{% endblock %}

{% block body %}
<div class="container mt-2">

    {% include 'includes/heading.html.twig' with {'title': 'Sections'}  %}

    <div class="row mt-5 justify-content-around">
      <div class="col col-md-6">
        {% if sections %}
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Position</th>
                        <th scope="col">Title</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for section in sections %}
                        <tr>
                            <td scope="row">{{ section.position }}</td>
                            <td>{{ section.title }}</td>
                            <td>
                                <a href="{{ path('section_update', { 'aId': section.id }) }}" class="btn btn-primary">Update</a>
                                <a href="{{ path('section_delete', { 'aId': section.id }) }}" class="btn btn-danger">&times;</a>

                                {% if section.position > 1 %}
                                <a href="{{ path('section_up', { 'aId': section.id, 'position': section.position }) }}" class="btn btn-warning">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-up" viewBox="0 0 16 16">
                                        <path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>
                                    </svg>
                                </a>
                                {% endif %}

                                {% if section.position < sections|length %}
                                <a href="{{ path('section_down', { 'aId': section.id, 'position': section.position }) }}" class="btn btn-warning">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16">
                                        <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                                    </svg>
                                </a>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
      </div>
    </div>

    <div class="row mt-2 justify-content-around">
        <div class="col mt-2 col-md-6">
            <a href="{{ path('section_create') }}" class="btn btn-primary">Add new section</a>
        </div>
    </div>
  </div>
{% endblock %}
